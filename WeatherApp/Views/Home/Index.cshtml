<script>
    window.addEventListener("load", function () {
        const result = document.getElementById("weather-result");
    if (result) {
        result.scrollIntoView({
            behavior: "smooth",
            block: "start"
        });
        }
    });
</script>
<div class="weather-container">
    <section class="about-section">
        <h2>About Kairos Weather</h2>
        <p>
            Kairos Weather was created with a simple mission: to make weather information accessible, accurate, and easy to understand.
            We believe weather plays a key role in daily life – from planning a trip to staying safe during storms. Our platform gathers
            real-time data from trusted sources and presents it in a clean, user-friendly format.
        </p>
        <p>
            At Kairos Weather, we’re constantly improving our services to bring you:<br />
            • Accurate forecasts powered by reliable APIs<br />
            • Simple navigation across all devices<br />
            • Useful tools to help you plan your day better
        </p>
        <p>
            Our vision is to become your go-to destination for weather updates, trusted by users worldwide.
        </p>
    </section>

    <div class="weather-card">
        @if (Model != null && !string.IsNullOrEmpty(Model.CityName))
        {
            <!-- Search Form moved inside the card -->
            <form method="post" asp-controller="Home" asp-action="Index" class="weather-search-form">
                <label>Enter location or Postal Code or Coordinates(Lat,Long) to get the weather details</label>
                <input type="text" name="CityName" placeholder="Enter location or Postal Code or Coordinates..." required />
                <button type="submit">Search</button>
            </form>

            <div id="weather-result">
                <div class="location">@Model.CityName</div>

                @if (Model.IsLocationAvailable)
                {
                    <div class="temp">@Model.Temperature &deg;C</div>

                    <div class="meta">
                        <span>Feels Like: @Model.FeelsLike &deg;C</span>
                        <span>Max: @Model.TempMax &deg;C</span>
                        <span>Min: @Model.TempMin &deg;C</span>
                    </div>

                    <div class="description">@Model.Description</div>

                    <div class="meta">
                        <span>Humidity: @Model.Humidity%</span>
                        <span>Wind: @Model.WindSpeed km/h</span>
                    </div>

                    <img src="@Model.Icon" alt="Weather icon">
                }
                else
                {
                    <div class="description">@Model.Description</div>
                }
            </div>

        }
        else
        {
            <!-- Show only the form if no model -->
            <form method="post" asp-controller="Home" asp-action="Index" class="weather-search-form">
                <label>Enter location or Postal Code or Coordinates(Lat,Long) to get the weather details</label>
                <input type="text" name="CityName" placeholder="Enter location or Postal Code or Coordinates(Lat,Long)..." required />
                <button type="submit">Search</button>
            </form>
        }
    </div>
</div>
