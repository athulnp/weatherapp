@{  
    ViewData["Title"] = "Home Page";  
}  
@model WeatherApp.Models.Weather
<link rel="stylesheet" href="~/css/weather.css" />
<head>
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-3262579139378205"
            crossorigin="anonymous"></script>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-VC1P19E5S1"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'G-VC1P19E5S1');
    </script>
</head>
<div class="weather-container">
    @if (Model != null && !string.IsNullOrEmpty(Model.CityName))
    {
        <div class="weather-card">
            <!-- Search Form moved inside the card -->
            <form method="post" asp-controller="Home" asp-action="Index" class="weather-search-form">
                <input type="text" name="CityName" placeholder="Enter location..." required />
                <button type="submit">Search</button>
            </form>

            <div class="location">@Model.CityName</div>
            <div class="temp">@Model.Temperature &deg;C</div>
            <div class="meta">
                <span>Feels Like: @Model.FeelsLike &deg;C</span>
                <span>Max: @Model.TempMax &deg;C</span>
                <span>Min: @Model.TempMin &deg;C</span>
            </div>
            <div class="description">@Model.Description</div>
            <div class="meta">
                <span>Humidity: @Model.Humidity%</span>
                <span>Wind: @Model.WindSpeed km/h</span>
            </div>
            <div>
                <img src="@Model.Icon" alt="Weather icon">
            </div>
        </div>
    }
    else
    {
        <!-- Show only the form if no model -->
        <div class="weather-card">
            <form method="post" asp-controller="Home" asp-action="Index" class="weather-search-form">
                <input type="text" name="CityName" placeholder="Enter location..." required />
                <button type="submit">Search</button>
            </form>
        </div>
    }
</div>

